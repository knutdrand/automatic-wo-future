<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <style>
    #vis.vega-embed {
      width: 100%;
      display: flex;
    }

    #vis.vega-embed details,
    #vis.vega-embed details summary {
      position: relative;
    }
  </style>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega@6"></script>
  <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/vega-embed@7"></script>
</head>
<body>
  <div id="vis"></div>
  <script>
    (function(vegaEmbed) {
      var spec = {"$schema": "https://vega.github.io/schema/vega/v6.json", "data": [{"name": "empty", "values": [{}]}, {"name": "source_0", "values": [{"line": "This is a collection of various metrics plotted by forecast horizon and time", "y": 0}, {"line": "period. Some of these might be useful for modelers or people trying to assess", "y": 1}, {"line": "forecast quality over time or by horizon.", "y": 2}]}, {"name": "source_1", "values": [{"x": 0, "y": 0}]}, {"name": "source_2", "values": [{"line": "The metric shown below is 'Within 25-75 Percentile'. Description: Binary", "y": 0}, {"line": "indicator if observation is within 25th-75th percentile", "y": 1}]}, {"name": "source_4", "values": [{"x": 0, "y": 0}]}, {"name": "source_5", "values": [{"line": "The metric shown below is 'RMSE'. Description: Detailed RMSE", "y": 0}]}, {"name": "source_7", "values": [{"x": 0, "y": 0}]}, {"name": "source_8", "values": [{"line": "The metric shown below is 'CRPS Normalized'. Description: Normalized CRPS per", "y": 0}, {"line": "location, time period and horizon", "y": 1}]}, {"name": "source_10", "values": [{"x": 0, "y": 0}]}, {"name": "source_11", "values": [{"line": "The metric shown below is 'Within 25-75 Percentile'. Description: Binary", "y": 0}, {"line": "indicator if observation is within 25th-75th percentile", "y": 1}]}, {"name": "source_13", "values": [{"x": 0, "y": 0}]}, {"name": "source_14", "values": [{"line": "The metric shown below is 'RMSE'. Description: Detailed RMSE", "y": 0}]}, {"name": "source_16", "values": [{"x": 0, "y": 0}]}, {"name": "source_17", "values": [{"line": "The metric shown below is 'CRPS Normalized'. Description: Normalized CRPS per", "y": 0}, {"line": "location, time period and horizon", "y": 1}]}, {"name": "source_3", "values": [{"horizon_distance": 0, "metric": 0.9172932330827067, "metric_end": 0.9172932330827067, "metric_start": 0.0}, {"horizon_distance": 1, "metric": 0.9323308270676691, "metric_end": 0.9323308270676691, "metric_start": 0.0}, {"horizon_distance": 2, "metric": 0.8421052631578947, "metric_end": 0.8421052631578947, "metric_start": 0.0}]}, {"name": "source_6", "values": [{"horizon_distance": 0, "metric": 206.88141400702145, "metric_end": 206.88141400702145, "metric_start": 0.0}, {"horizon_distance": 1, "metric": 212.38494602753607, "metric_end": 212.38494602753607, "metric_start": 0.0}, {"horizon_distance": 2, "metric": 198.26842823643688, "metric_end": 198.26842823643688, "metric_start": 0.0}]}, {"name": "source_9", "values": [{"horizon_distance": 0, "metric": 0.037570090520418695, "metric_end": 0.037570090520418695, "metric_start": 0.0}, {"horizon_distance": 1, "metric": 0.03746370337608727, "metric_end": 0.03746370337608727, "metric_start": 0.0}, {"horizon_distance": 2, "metric": 0.0376620480613298, "metric_end": 0.0376620480613298, "metric_start": 0.0}]}, {"name": "source_12", "values": [{"mean_metric": 0.8421052631578947, "time_period": "201610"}, {"mean_metric": 0.8947368421052632, "time_period": "201611"}, {"mean_metric": 0.9473684210526315, "time_period": "201612"}, {"mean_metric": 0.7719298245614035, "time_period": "201701"}, {"mean_metric": 0.8947368421052632, "time_period": "201702"}, {"mean_metric": 0.9122807017543859, "time_period": "201703"}, {"mean_metric": 0.9824561403508771, "time_period": "201704"}, {"mean_metric": 0.9736842105263158, "time_period": "201705"}, {"mean_metric": 0.7368421052631579, "time_period": "201706"}]}, {"name": "source_15", "values": [{"mean_metric": 332.77066025989376, "time_period": "201610"}, {"mean_metric": 326.59763135460594, "time_period": "201611"}, {"mean_metric": 273.35132554815874, "time_period": "201612"}, {"mean_metric": 213.41713929512386, "time_period": "201701"}, {"mean_metric": 155.5363688382078, "time_period": "201702"}, {"mean_metric": 134.52982639528494, "time_period": "201703"}, {"mean_metric": 154.67863417789684, "time_period": "201704"}, {"mean_metric": 172.62836292673506, "time_period": "201705"}, {"mean_metric": 196.98098631036856, "time_period": "201706"}]}, {"name": "source_18", "values": [{"mean_metric": 0.06750549019607843, "time_period": "201610"}, {"mean_metric": 0.05502155830753354, "time_period": "201611"}, {"mean_metric": 0.04619737048503612, "time_period": "201612"}, {"mean_metric": 0.044962157550739595, "time_period": "201701"}, {"mean_metric": 0.02907431166150671, "time_period": "201702"}, {"mean_metric": 0.024740166494668044, "time_period": "201703"}, {"mean_metric": 0.02498334090127279, "time_period": "201704"}, {"mean_metric": 0.029379300309597522, "time_period": "201705"}, {"mean_metric": 0.04269164499484004, "time_period": "201706"}]}, {"name": "source_0_concat_1_y_domain_y", "values": [{"y": 0}, {"y": 1}, {"y": 2}]}, {"name": "source_2_concat_3_y_domain_y", "values": [{"y": 0}, {"y": 1}]}, {"name": "source_3_concat_4_x_domain_horizon_distance", "values": [{"horizon_distance": 0}, {"horizon_distance": 1}, {"horizon_distance": 2}]}, {"name": "source_5_concat_6_y_domain_y", "values": [{"y": 0}]}, {"name": "source_6_concat_7_x_domain_horizon_distance", "values": [{"horizon_distance": 0}, {"horizon_distance": 1}, {"horizon_distance": 2}]}, {"name": "source_8_concat_9_y_domain_y", "values": [{"y": 0}, {"y": 1}]}, {"name": "source_9_concat_10_x_domain_horizon_distance", "values": [{"horizon_distance": 0}, {"horizon_distance": 1}, {"horizon_distance": 2}]}, {"name": "source_11_concat_12_y_domain_y", "values": [{"y": 0}, {"y": 1}]}, {"name": "source_12_concat_13_x_domain_time_period", "values": [{"time_period": "201610"}, {"time_period": "201611"}, {"time_period": "201612"}, {"time_period": "201701"}, {"time_period": "201702"}, {"time_period": "201703"}, {"time_period": "201704"}, {"time_period": "201705"}, {"time_period": "201706"}]}, {"name": "source_12_concat_13_y_domain_mean_metric", "values": [{"min": 0.7368421052631579, "max": 0.9824561403508771}]}, {"name": "source_14_concat_15_y_domain_y", "values": [{"y": 0}]}, {"name": "source_15_concat_16_x_domain_time_period", "values": [{"time_period": "201610"}, {"time_period": "201611"}, {"time_period": "201612"}, {"time_period": "201701"}, {"time_period": "201702"}, {"time_period": "201703"}, {"time_period": "201704"}, {"time_period": "201705"}, {"time_period": "201706"}]}, {"name": "source_15_concat_16_y_domain_mean_metric", "values": [{"min": 134.52982639528494, "max": 332.77066025989376}]}, {"name": "source_17_concat_18_y_domain_y", "values": [{"y": 0}, {"y": 1}]}, {"name": "source_18_concat_19_x_domain_time_period", "values": [{"time_period": "201610"}, {"time_period": "201611"}, {"time_period": "201612"}, {"time_period": "201701"}, {"time_period": "201702"}, {"time_period": "201703"}, {"time_period": "201704"}, {"time_period": "201705"}, {"time_period": "201706"}]}, {"name": "source_18_concat_19_y_domain_mean_metric", "values": [{"min": 0.024740166494668044, "max": 0.06750549019607843}]}], "signals": [{"name": "concat_0_width", "value": 20}, {"name": "concat_0_height", "value": 24}, {"name": "concat_1_width", "value": 20}, {"name": "concat_1_height", "value": 92}, {"name": "concat_2_width", "value": 600}, {"name": "concat_2_height", "value": 34}, {"name": "concat_3_width", "value": 20}, {"name": "concat_3_height", "value": 78}, {"name": "concat_4_width", "value": 300}, {"name": "concat_4_height", "value": 230}, {"name": "concat_5_width", "value": 600}, {"name": "concat_5_height", "value": 34}, {"name": "concat_6_width", "value": 20}, {"name": "concat_6_height", "value": 64}, {"name": "concat_7_width", "value": 300}, {"name": "concat_7_height", "value": 230}, {"name": "concat_8_width", "value": 600}, {"name": "concat_8_height", "value": 34}, {"name": "concat_9_width", "value": 20}, {"name": "concat_9_height", "value": 78}, {"name": "concat_10_width", "value": 300}, {"name": "concat_10_height", "value": 230}, {"name": "concat_11_width", "value": 600}, {"name": "concat_11_height", "value": 34}, {"name": "concat_12_width", "value": 20}, {"name": "concat_12_height", "value": 78}, {"name": "concat_13_width", "value": 300}, {"name": "concat_13_height", "value": 230}, {"name": "concat_14_width", "value": 600}, {"name": "concat_14_height", "value": 34}, {"name": "concat_15_width", "value": 20}, {"name": "concat_15_height", "value": 64}, {"name": "concat_16_width", "value": 300}, {"name": "concat_16_height", "value": 230}, {"name": "concat_17_width", "value": 600}, {"name": "concat_17_height", "value": 34}, {"name": "concat_18_width", "value": 20}, {"name": "concat_18_height", "value": 78}, {"name": "concat_19_width", "value": 300}, {"name": "concat_19_height", "value": 230}], "marks": [{"type": "group", "name": "concat_0_group", "encode": {"update": {"width": {"signal": "concat_0_width"}, "height": {"signal": "concat_0_height"}}}, "marks": [{"type": "text", "name": "concat_0_marks", "from": {"data": "empty"}, "encode": {"update": {"text": {"value": "BackTest Dashboard 1"}, "fontSize": {"value": 20}, "align": {"value": "left"}, "fontWeight": {"value": "bold"}, "y": {"signal": "concat_0_height", "mult": 0.5}, "fill": {"value": "black"}, "x": {"signal": "concat_0_width", "mult": 0.5}, "baseline": {"value": "middle"}}}, "style": ["text"]}], "style": "view"}, {"type": "group", "name": "concat_1_group", "encode": {"update": {"height": {"signal": "concat_1_height"}, "width": {"signal": "concat_1_width"}}}, "marks": [{"type": "text", "name": "concat_1_marks", "from": {"data": "source_0"}, "encode": {"update": {"fill": {"value": "black"}, "align": {"value": "left"}, "x": {"signal": "concat_1_width", "mult": 0.5}, "fontSize": {"value": 12}, "y": {"field": "y", "scale": "concat_1_y"}, "baseline": {"value": "top"}, "text": {"signal": "isValid(datum[\"line\"]) ? datum[\"line\"] : \"\"+datum[\"line\"]"}}}, "style": ["text"]}], "style": "cell"}, {"type": "group", "name": "concat_2_group", "encode": {"update": {"width": {"signal": "concat_2_width"}, "height": {"signal": "concat_2_height"}}}, "marks": [{"type": "text", "name": "concat_2_marks", "from": {"data": "source_1"}, "encode": {"update": {"baseline": {"value": "top"}, "fontWeight": {"value": "bold"}, "fontSize": {"value": 24}, "x": {"signal": "concat_2_width", "mult": 0.5}, "fill": {"value": "black"}, "align": {"value": "center"}, "y": {"signal": "concat_2_height", "mult": 0.5}, "text": {"value": "Within 25-75 Percentile"}}}, "style": ["text"]}], "style": "view"}, {"type": "group", "name": "concat_3_group", "encode": {"update": {"height": {"signal": "concat_3_height"}, "width": {"signal": "concat_3_width"}}}, "marks": [{"type": "text", "name": "concat_3_marks", "from": {"data": "source_2"}, "encode": {"update": {"baseline": {"value": "top"}, "fontSize": {"value": 12}, "y": {"field": "y", "scale": "concat_3_y"}, "fill": {"value": "black"}, "text": {"signal": "isValid(datum[\"line\"]) ? datum[\"line\"] : \"\"+datum[\"line\"]"}, "x": {"signal": "concat_3_width", "mult": 0.5}, "align": {"value": "left"}}}, "style": ["text"]}], "style": "cell"}, {"type": "group", "name": "concat_4_group", "encode": {"update": {"width": {"signal": "concat_4_width"}, "height": {"signal": "concat_4_height"}}}, "marks": [{"type": "rect", "name": "concat_4_marks", "from": {"data": "source_3"}, "encode": {"update": {"x": {"field": "horizon_distance", "scale": "concat_4_x"}, "y2": {"field": "metric_start", "scale": "concat_4_y"}, "tooltip": {"signal": "{\"horizon_distance\": format(datum[\"horizon_distance\"], \"\"), \"metric\": format(datum[\"metric\"], \"\")}"}, "fill": {"value": "#4c78a8"}, "width": {"signal": "max(0.25, bandwidth('concat_4_x'))"}, "y": {"field": "metric_end", "scale": "concat_4_y"}}}, "style": ["bar"]}], "axes": [{"scale": "concat_4_y", "minExtent": 0, "ticks": false, "zindex": 0, "domain": false, "maxExtent": 0, "grid": true, "labels": false, "orient": "left", "aria": false, "gridScale": "concat_4_x", "tickCount": {"signal": "ceil(concat_4_height/40)"}}, {"scale": "concat_4_x", "title": "Horizon (periods ahead)", "zindex": 0, "orient": "bottom", "labelAlign": "right", "labelBaseline": "middle", "grid": false, "labelAngle": 270}, {"scale": "concat_4_y", "orient": "left", "title": "Mean Metric Value", "tickCount": {"signal": "ceil(concat_4_height/40)"}, "grid": false, "zindex": 0, "labelOverlap": true}], "title": {"text": "Within 25-75 Percentile", "frame": "group"}, "style": "cell"}, {"type": "group", "name": "concat_5_group", "encode": {"update": {"height": {"signal": "concat_5_height"}, "width": {"signal": "concat_5_width"}}}, "marks": [{"type": "text", "name": "concat_5_marks", "from": {"data": "source_4"}, "encode": {"update": {"text": {"value": "RMSE"}, "fill": {"value": "black"}, "fontSize": {"value": 24}, "fontWeight": {"value": "bold"}, "x": {"signal": "concat_5_width", "mult": 0.5}, "y": {"signal": "concat_5_height", "mult": 0.5}, "align": {"value": "center"}, "baseline": {"value": "top"}}}, "style": ["text"]}], "style": "view"}, {"type": "group", "name": "concat_6_group", "encode": {"update": {"height": {"signal": "concat_6_height"}, "width": {"signal": "concat_6_width"}}}, "marks": [{"type": "text", "name": "concat_6_marks", "from": {"data": "source_5"}, "encode": {"update": {"x": {"signal": "concat_6_width", "mult": 0.5}, "fontSize": {"value": 12}, "text": {"signal": "isValid(datum[\"line\"]) ? datum[\"line\"] : \"\"+datum[\"line\"]"}, "baseline": {"value": "top"}, "fill": {"value": "black"}, "align": {"value": "left"}, "y": {"field": "y", "scale": "concat_6_y"}}}, "style": ["text"]}], "style": "cell"}, {"type": "group", "name": "concat_7_group", "encode": {"update": {"height": {"signal": "concat_7_height"}, "width": {"signal": "concat_7_width"}}}, "marks": [{"type": "rect", "name": "concat_7_marks", "from": {"data": "source_6"}, "encode": {"update": {"tooltip": {"signal": "{\"horizon_distance\": format(datum[\"horizon_distance\"], \"\"), \"metric\": format(datum[\"metric\"], \"\")}"}, "y2": {"field": "metric_start", "scale": "concat_7_y"}, "width": {"signal": "max(0.25, bandwidth('concat_7_x'))"}, "fill": {"value": "#4c78a8"}, "y": {"field": "metric_end", "scale": "concat_7_y"}, "x": {"field": "horizon_distance", "scale": "concat_7_x"}}}, "style": ["bar"]}], "axes": [{"scale": "concat_7_y", "grid": true, "maxExtent": 0, "gridScale": "concat_7_x", "zindex": 0, "labels": false, "ticks": false, "tickCount": {"signal": "ceil(concat_7_height/40)"}, "orient": "left", "minExtent": 0, "aria": false, "domain": false}, {"scale": "concat_7_x", "orient": "bottom", "grid": false, "labelAlign": "right", "title": "Horizon (periods ahead)", "labelAngle": 270, "labelBaseline": "middle", "zindex": 0}, {"scale": "concat_7_y", "zindex": 0, "tickCount": {"signal": "ceil(concat_7_height/40)"}, "orient": "left", "grid": false, "title": "Mean Metric Value", "labelOverlap": true}], "title": {"text": "RMSE", "frame": "group"}, "style": "cell"}, {"type": "group", "name": "concat_8_group", "encode": {"update": {"width": {"signal": "concat_8_width"}, "height": {"signal": "concat_8_height"}}}, "marks": [{"type": "text", "name": "concat_8_marks", "from": {"data": "source_7"}, "encode": {"update": {"baseline": {"value": "top"}, "fontWeight": {"value": "bold"}, "fill": {"value": "black"}, "fontSize": {"value": 24}, "y": {"signal": "concat_8_height", "mult": 0.5}, "text": {"value": "CRPS Normalized"}, "x": {"signal": "concat_8_width", "mult": 0.5}, "align": {"value": "center"}}}, "style": ["text"]}], "style": "view"}, {"type": "group", "name": "concat_9_group", "encode": {"update": {"width": {"signal": "concat_9_width"}, "height": {"signal": "concat_9_height"}}}, "marks": [{"type": "text", "name": "concat_9_marks", "from": {"data": "source_8"}, "encode": {"update": {"x": {"signal": "concat_9_width", "mult": 0.5}, "y": {"field": "y", "scale": "concat_9_y"}, "fontSize": {"value": 12}, "fill": {"value": "black"}, "baseline": {"value": "top"}, "align": {"value": "left"}, "text": {"signal": "isValid(datum[\"line\"]) ? datum[\"line\"] : \"\"+datum[\"line\"]"}}}, "style": ["text"]}], "style": "cell"}, {"type": "group", "name": "concat_10_group", "encode": {"update": {"width": {"signal": "concat_10_width"}, "height": {"signal": "concat_10_height"}}}, "marks": [{"type": "rect", "name": "concat_10_marks", "from": {"data": "source_9"}, "encode": {"update": {"tooltip": {"signal": "{\"horizon_distance\": format(datum[\"horizon_distance\"], \"\"), \"metric\": format(datum[\"metric\"], \"\")}"}, "y2": {"field": "metric_start", "scale": "concat_10_y"}, "x": {"field": "horizon_distance", "scale": "concat_10_x"}, "width": {"signal": "max(0.25, bandwidth('concat_10_x'))"}, "fill": {"value": "#4c78a8"}, "y": {"field": "metric_end", "scale": "concat_10_y"}}}, "style": ["bar"]}], "axes": [{"scale": "concat_10_y", "ticks": false, "gridScale": "concat_10_x", "tickCount": {"signal": "ceil(concat_10_height/40)"}, "aria": false, "zindex": 0, "domain": false, "labels": false, "grid": true, "orient": "left", "maxExtent": 0, "minExtent": 0}, {"scale": "concat_10_x", "orient": "bottom", "grid": false, "title": "Horizon (periods ahead)", "labelAlign": "right", "labelBaseline": "middle", "labelAngle": 270, "zindex": 0}, {"scale": "concat_10_y", "tickCount": {"signal": "ceil(concat_10_height/40)"}, "grid": false, "orient": "left", "title": "Mean Metric Value", "labelOverlap": true, "zindex": 0}], "title": {"text": "CRPS Normalized", "frame": "group"}, "style": "cell"}, {"type": "group", "name": "concat_11_group", "encode": {"update": {"height": {"signal": "concat_11_height"}, "width": {"signal": "concat_11_width"}}}, "marks": [{"type": "text", "name": "concat_11_marks", "from": {"data": "source_10"}, "encode": {"update": {"align": {"value": "center"}, "text": {"value": "Within 25-75 Percentile"}, "fill": {"value": "black"}, "fontWeight": {"value": "bold"}, "x": {"signal": "concat_11_width", "mult": 0.5}, "y": {"signal": "concat_11_height", "mult": 0.5}, "fontSize": {"value": 24}, "baseline": {"value": "top"}}}, "style": ["text"]}], "style": "view"}, {"type": "group", "name": "concat_12_group", "encode": {"update": {"height": {"signal": "concat_12_height"}, "width": {"signal": "concat_12_width"}}}, "marks": [{"type": "text", "name": "concat_12_marks", "from": {"data": "source_11"}, "encode": {"update": {"text": {"signal": "isValid(datum[\"line\"]) ? datum[\"line\"] : \"\"+datum[\"line\"]"}, "x": {"signal": "concat_12_width", "mult": 0.5}, "y": {"field": "y", "scale": "concat_12_y"}, "fill": {"value": "black"}, "baseline": {"value": "top"}, "align": {"value": "left"}, "fontSize": {"value": 12}}}, "style": ["text"]}], "style": "cell"}, {"type": "group", "name": "concat_13_group", "encode": {"update": {"width": {"signal": "concat_13_width"}, "height": {"signal": "concat_13_height"}}}, "marks": [{"type": "line", "name": "concat_13_marks", "from": {"data": "source_12"}, "sort": {"field": "x"}, "encode": {"update": {"y": {"field": "mean_metric", "scale": "concat_13_y"}, "defined": {"signal": "isValid(datum[\"mean_metric\"]) && isFinite(+datum[\"mean_metric\"])"}, "tooltip": {"signal": "{\"Time Period\": isValid(datum[\"time_period\"]) ? datum[\"time_period\"] : \"\"+datum[\"time_period\"], \"Count\": format(datum[\"mean_metric\"], \"\")}"}, "x": {"field": "time_period", "scale": "concat_13_x"}, "stroke": {"value": "#4c78a8"}}}, "style": ["line"]}], "axes": [{"scale": "concat_13_y", "ticks": false, "gridScale": "concat_13_x", "grid": true, "tickCount": {"signal": "ceil(concat_13_height/40)"}, "maxExtent": 0, "zindex": 0, "aria": false, "domain": false, "orient": "left", "labels": false, "minExtent": 0}, {"scale": "concat_13_x", "orient": "bottom", "grid": false, "labelAlign": "right", "labelAngle": 270, "title": "Time Period", "labelBaseline": "middle", "zindex": 0}, {"scale": "concat_13_y", "zindex": 0, "grid": false, "labelOverlap": true, "orient": "left", "title": "Mean Metric Value", "tickCount": {"signal": "ceil(concat_13_height/40)"}}], "title": {"text": "Within 25-75 Percentile", "frame": "group"}, "style": "cell"}, {"type": "group", "name": "concat_14_group", "encode": {"update": {"width": {"signal": "concat_14_width"}, "height": {"signal": "concat_14_height"}}}, "marks": [{"type": "text", "name": "concat_14_marks", "from": {"data": "source_13"}, "encode": {"update": {"align": {"value": "center"}, "fill": {"value": "black"}, "fontSize": {"value": 24}, "baseline": {"value": "top"}, "text": {"value": "RMSE"}, "x": {"signal": "concat_14_width", "mult": 0.5}, "fontWeight": {"value": "bold"}, "y": {"signal": "concat_14_height", "mult": 0.5}}}, "style": ["text"]}], "style": "view"}, {"type": "group", "name": "concat_15_group", "encode": {"update": {"width": {"signal": "concat_15_width"}, "height": {"signal": "concat_15_height"}}}, "marks": [{"type": "text", "name": "concat_15_marks", "from": {"data": "source_14"}, "encode": {"update": {"text": {"signal": "isValid(datum[\"line\"]) ? datum[\"line\"] : \"\"+datum[\"line\"]"}, "y": {"field": "y", "scale": "concat_15_y"}, "align": {"value": "left"}, "fill": {"value": "black"}, "baseline": {"value": "top"}, "x": {"signal": "concat_15_width", "mult": 0.5}, "fontSize": {"value": 12}}}, "style": ["text"]}], "style": "cell"}, {"type": "group", "name": "concat_16_group", "encode": {"update": {"height": {"signal": "concat_16_height"}, "width": {"signal": "concat_16_width"}}}, "marks": [{"type": "line", "name": "concat_16_marks", "from": {"data": "source_15"}, "sort": {"field": "x"}, "encode": {"update": {"defined": {"signal": "isValid(datum[\"mean_metric\"]) && isFinite(+datum[\"mean_metric\"])"}, "stroke": {"value": "#4c78a8"}, "x": {"field": "time_period", "scale": "concat_16_x"}, "tooltip": {"signal": "{\"Time Period\": isValid(datum[\"time_period\"]) ? datum[\"time_period\"] : \"\"+datum[\"time_period\"], \"Count\": format(datum[\"mean_metric\"], \"\")}"}, "y": {"field": "mean_metric", "scale": "concat_16_y"}}}, "style": ["line"]}], "axes": [{"scale": "concat_16_y", "ticks": false, "maxExtent": 0, "minExtent": 0, "tickCount": {"signal": "ceil(concat_16_height/40)"}, "domain": false, "orient": "left", "gridScale": "concat_16_x", "labels": false, "aria": false, "zindex": 0, "grid": true}, {"scale": "concat_16_x", "grid": false, "labelAngle": 270, "orient": "bottom", "labelBaseline": "middle", "zindex": 0, "labelAlign": "right", "title": "Time Period"}, {"scale": "concat_16_y", "labelOverlap": true, "tickCount": {"signal": "ceil(concat_16_height/40)"}, "zindex": 0, "orient": "left", "title": "Mean Metric Value", "grid": false}], "title": {"text": "RMSE", "frame": "group"}, "style": "cell"}, {"type": "group", "name": "concat_17_group", "encode": {"update": {"width": {"signal": "concat_17_width"}, "height": {"signal": "concat_17_height"}}}, "marks": [{"type": "text", "name": "concat_17_marks", "from": {"data": "source_16"}, "encode": {"update": {"align": {"value": "center"}, "x": {"signal": "concat_17_width", "mult": 0.5}, "fill": {"value": "black"}, "baseline": {"value": "top"}, "fontSize": {"value": 24}, "fontWeight": {"value": "bold"}, "y": {"signal": "concat_17_height", "mult": 0.5}, "text": {"value": "CRPS Normalized"}}}, "style": ["text"]}], "style": "view"}, {"type": "group", "name": "concat_18_group", "encode": {"update": {"height": {"signal": "concat_18_height"}, "width": {"signal": "concat_18_width"}}}, "marks": [{"type": "text", "name": "concat_18_marks", "from": {"data": "source_17"}, "encode": {"update": {"y": {"field": "y", "scale": "concat_18_y"}, "align": {"value": "left"}, "fontSize": {"value": 12}, "fill": {"value": "black"}, "text": {"signal": "isValid(datum[\"line\"]) ? datum[\"line\"] : \"\"+datum[\"line\"]"}, "x": {"signal": "concat_18_width", "mult": 0.5}, "baseline": {"value": "top"}}}, "style": ["text"]}], "style": "cell"}, {"type": "group", "name": "concat_19_group", "encode": {"update": {"width": {"signal": "concat_19_width"}, "height": {"signal": "concat_19_height"}}}, "marks": [{"type": "line", "name": "concat_19_marks", "from": {"data": "source_18"}, "sort": {"field": "x"}, "encode": {"update": {"x": {"field": "time_period", "scale": "concat_19_x"}, "y": {"field": "mean_metric", "scale": "concat_19_y"}, "tooltip": {"signal": "{\"Time Period\": isValid(datum[\"time_period\"]) ? datum[\"time_period\"] : \"\"+datum[\"time_period\"], \"Count\": format(datum[\"mean_metric\"], \"\")}"}, "defined": {"signal": "isValid(datum[\"mean_metric\"]) && isFinite(+datum[\"mean_metric\"])"}, "stroke": {"value": "#4c78a8"}}}, "style": ["line"]}], "axes": [{"scale": "concat_19_y", "minExtent": 0, "orient": "left", "grid": true, "gridScale": "concat_19_x", "ticks": false, "maxExtent": 0, "domain": false, "zindex": 0, "tickCount": {"signal": "ceil(concat_19_height/40)"}, "aria": false, "labels": false}, {"scale": "concat_19_x", "labelAngle": 270, "labelBaseline": "middle", "zindex": 0, "labelAlign": "right", "orient": "bottom", "grid": false, "title": "Time Period"}, {"scale": "concat_19_y", "grid": false, "tickCount": {"signal": "ceil(concat_19_height/40)"}, "labelOverlap": true, "orient": "left", "title": "Mean Metric Value", "zindex": 0}], "title": {"text": "CRPS Normalized", "frame": "group"}, "style": "cell"}], "scales": [{"name": "concat_1_y", "type": "point", "domain": {"data": "source_0_concat_1_y_domain_y", "field": "y", "sort": true}, "range": [0, {"signal": "concat_1_height"}], "padding": 0.5}, {"name": "concat_3_y", "type": "point", "domain": {"data": "source_2_concat_3_y_domain_y", "field": "y", "sort": true}, "range": [0, {"signal": "concat_3_height"}], "padding": 0.5}, {"name": "concat_4_x", "type": "band", "domain": {"data": "source_3_concat_4_x_domain_horizon_distance", "field": "horizon_distance", "sort": true}, "range": [0, {"signal": "concat_4_width"}], "paddingOuter": 0.05, "paddingInner": 0.1}, {"name": "concat_4_y", "type": "linear", "domain": {"data": "source_3", "fields": ["metric_start", "metric_end"]}, "range": [{"signal": "concat_4_height"}, 0], "zero": true, "nice": true}, {"name": "concat_6_y", "type": "point", "domain": {"data": "source_5_concat_6_y_domain_y", "field": "y", "sort": true}, "range": [0, {"signal": "concat_6_height"}], "padding": 0.5}, {"name": "concat_7_x", "type": "band", "domain": {"data": "source_6_concat_7_x_domain_horizon_distance", "field": "horizon_distance", "sort": true}, "range": [0, {"signal": "concat_7_width"}], "paddingOuter": 0.05, "paddingInner": 0.1}, {"name": "concat_7_y", "type": "linear", "domain": {"data": "source_6", "fields": ["metric_start", "metric_end"]}, "range": [{"signal": "concat_7_height"}, 0], "nice": true, "zero": true}, {"name": "concat_9_y", "type": "point", "domain": {"data": "source_8_concat_9_y_domain_y", "field": "y", "sort": true}, "range": [0, {"signal": "concat_9_height"}], "padding": 0.5}, {"name": "concat_10_x", "type": "band", "domain": {"data": "source_9_concat_10_x_domain_horizon_distance", "field": "horizon_distance", "sort": true}, "range": [0, {"signal": "concat_10_width"}], "paddingOuter": 0.05, "paddingInner": 0.1}, {"name": "concat_10_y", "type": "linear", "domain": {"data": "source_9", "fields": ["metric_start", "metric_end"]}, "range": [{"signal": "concat_10_height"}, 0], "zero": true, "nice": true}, {"name": "concat_12_y", "type": "point", "domain": {"data": "source_11_concat_12_y_domain_y", "field": "y", "sort": true}, "range": [0, {"signal": "concat_12_height"}], "padding": 0.5}, {"name": "concat_13_x", "type": "point", "domain": {"data": "source_12_concat_13_x_domain_time_period", "field": "time_period", "sort": true}, "range": [0, {"signal": "concat_13_width"}], "padding": 0.5}, {"name": "concat_13_y", "type": "linear", "domain": [{"signal": "(data(\"source_12_concat_13_y_domain_mean_metric\")[0] || {}).min"}, {"signal": "(data(\"source_12_concat_13_y_domain_mean_metric\")[0] || {}).max"}], "range": [{"signal": "concat_13_height"}, 0], "nice": true, "zero": true}, {"name": "concat_15_y", "type": "point", "domain": {"data": "source_14_concat_15_y_domain_y", "field": "y", "sort": true}, "range": [0, {"signal": "concat_15_height"}], "padding": 0.5}, {"name": "concat_16_x", "type": "point", "domain": {"data": "source_15_concat_16_x_domain_time_period", "field": "time_period", "sort": true}, "range": [0, {"signal": "concat_16_width"}], "padding": 0.5}, {"name": "concat_16_y", "type": "linear", "domain": [{"signal": "(data(\"source_15_concat_16_y_domain_mean_metric\")[0] || {}).min"}, {"signal": "(data(\"source_15_concat_16_y_domain_mean_metric\")[0] || {}).max"}], "range": [{"signal": "concat_16_height"}, 0], "nice": true, "zero": true}, {"name": "concat_18_y", "type": "point", "domain": {"data": "source_17_concat_18_y_domain_y", "field": "y", "sort": true}, "range": [0, {"signal": "concat_18_height"}], "padding": 0.5}, {"name": "concat_19_x", "type": "point", "domain": {"data": "source_18_concat_19_x_domain_time_period", "field": "time_period", "sort": true}, "range": [0, {"signal": "concat_19_width"}], "padding": 0.5}, {"name": "concat_19_y", "type": "linear", "domain": [{"signal": "(data(\"source_18_concat_19_y_domain_mean_metric\")[0] || {}).min"}, {"signal": "(data(\"source_18_concat_19_y_domain_mean_metric\")[0] || {}).max"}], "range": [{"signal": "concat_19_height"}, 0], "nice": true, "zero": true}], "background": "white", "padding": 5, "config": {"axis": {"labelFontSize": 11, "titleFontSize": 12}, "legend": {"labelFontSize": 11, "titleFontSize": 12}, "style": {"cell": {"stroke": null}}}, "layout": {"padding": 20, "columns": 1, "bounds": "full", "align": "each"}};
      var embedOpt = {"mode": "vega"};

      function showError(el, error){
          el.innerHTML = ('<div style="color:red;">'
                          + '<p>JavaScript Error: ' + error.message + '</p>'
                          + "<p>This usually means there's a typo in your chart specification. "
                          + "See the javascript console for the full traceback.</p>"
                          + '</div>');
          throw error;
      }
      const el = document.getElementById('vis');
      vegaEmbed("#vis", spec, embedOpt)
        .catch(error => showError(el, error));
    })(vegaEmbed);

  </script>
</body>
</html>